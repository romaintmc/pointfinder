(function(){"use strict";var e={841:function(e,A,t){var i=t(963),s=t(252);function o(e,A){const t=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(t)}var n=t(744);const r={},a=(0,n.Z)(r,[["render",o]]);var l=a,c=t(201),u=t(577),d=t.p+"img/logo_pointfinder.e228cfbb.png";const p=(0,s._)("div",{class:"title-container"},[(0,s._)("h1",null,"Welcome on PointFinder !"),(0,s._)("h4",null,"Please Login or subscribe to access the application")],-1),g={class:"tabs-container"},h={key:0},m=(0,s._)("button",{type:"submit",class:"sign-button"},"Sign-in",-1),M={key:1},w={class:"form-group"},y={class:"form-group"},I={class:"form-group"},v={class:"form-group"},E=(0,s._)("button",{type:"submit",class:"sign-button"},"Sign-up",-1),C={key:0,class:"toast-container"},f={class:"toast-message"},B={class:"modal"},b=(0,s._)("h2",null,"Reset Password",-1),D=(0,s._)("button",{type:"submit"},"Send Reset Link",-1);function Q(e,A,t,o,n,r){const a=(0,s.up)("tabs");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",null,[(0,s._)("img",{class:"logo",src:d,onClick:A[0]||(A[0]=(...e)=>r.redirectHomePage&&r.redirectHomePage(...e))}),p,(0,s._)("div",g,[(0,s.Wm)(a,{tabs:n.tabs,onTabChanged:r.updateActiveTab},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.tabs,((e,t)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:t},[0===t?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("form",{onSubmit:A[4]||(A[4]=(0,i.iM)(((...e)=>r.signin&&r.signin(...e)),["prevent"]))},[(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":A[1]||(A[1]=e=>n.loginsignin=e),type:"text",placeholder:"Username or email",required:""},null,512),[[i.nr,n.loginsignin]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":A[2]||(A[2]=e=>n.passwordsignin=e),type:"password",placeholder:"Password",required:""},null,512),[[i.nr,n.passwordsignin]]),(0,s._)("div",null,[(0,s._)("a",{href:"#",class:"forgot-password",onClick:A[3]||(A[3]=e=>n.showResetPasswordModal=!0)},"Forgot password?")]),m])],32)])):(0,s.kq)("",!0),1===t?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("form",{onSubmit:A[9]||(A[9]=(0,i.iM)(((...e)=>r.signup&&r.signup(...e)),["prevent"]))},[(0,s._)("div",w,[(0,s.wy)((0,s._)("input",{id:"login","onUpdate:modelValue":A[5]||(A[5]=e=>n.loginsignup=e),type:"text",placeholder:"Username",required:""},null,512),[[i.nr,n.loginsignup]])]),(0,s._)("div",y,[(0,s.wy)((0,s._)("input",{id:"mail","onUpdate:modelValue":A[6]||(A[6]=e=>n.mail=e),type:"mail",placeholder:"E-mail",required:""},null,512),[[i.nr,n.mail]])]),(0,s._)("div",I,[(0,s.wy)((0,s._)("input",{id:"password","onUpdate:modelValue":A[7]||(A[7]=e=>n.passwordsignup=e),type:"password",placeholder:"Password",required:""},null,512),[[i.nr,n.passwordsignup]])]),(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{id:"confirmpassword","onUpdate:modelValue":A[8]||(A[8]=e=>n.confirmpassword=e),type:"password",placeholder:"Confirm your password",required:""},null,512),[[i.nr,n.confirmpassword]])]),E],32)])):(0,s.kq)("",!0)])),[[i.F8,n.activeTab===t]]))),128))])),_:1},8,["tabs","onTabChanged"]),n.showErrorMessage?((0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("span",f,(0,u.zw)(n.errorMessage),1)])):(0,s.kq)("",!0)])]),n.showResetPasswordModal?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal-overlay",onClick:A[12]||(A[12]=(0,i.iM)((e=>n.showResetPasswordModal=!1),["self"]))},[(0,s._)("div",B,[b,(0,s._)("form",{onSubmit:A[11]||(A[11]=(0,i.iM)(((...e)=>r.sendEmailResetPassword&&r.sendEmailResetPassword(...e)),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[10]||(A[10]=e=>n.resetEmail=e),placeholder:"Enter your email",required:""},null,512),[[i.nr,n.resetEmail]]),D],32)])])):(0,s.kq)("",!0)],64)}const k={class:"tabs"},J=["onClick"],Y={class:"tab-content"};function S(e,A,t,o,n,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.tabs,((e,A)=>((0,s.wg)(),(0,s.iD)("div",{key:A,onClick:e=>r.selectTab(A),class:(0,u.C_)({active:n.activeTab===A})},(0,u.zw)(e.label),11,J)))),128))]),(0,s._)("div",Y,[(0,s.wy)((0,s._)("div",null,[(0,s.WI)(e.$slots,"default",{activeTab:n.activeTab},void 0,!0)],512),[[i.F8,t.tabs[n.activeTab]]])])])}var T={data(){return{activeTab:0}},props:{tabs:{type:Array,required:!0}},methods:{selectTab(e){this.activeTab=e,this.$emit("tab-changed",e)}}};const U=(0,n.Z)(T,[["render",S],["__scopeId","data-v-1dd013b3"]]);var _=U,j=t(2),P={setup(){const e=(0,j.pm)();return{toast:e}},components:{Tabs:_},data(){return{tabs:[{label:"Sign-in"},{label:"Sign-up"}],activeTab:0,loginsignin:"",loginsignup:"",passwordsignin:"",passwordsignup:"",mail:"",confirmpassword:"",resetEmail:"",showResetPasswordModal:!1,showErrorMessage:!1,errorMessage:""}},methods:{redirectHomePage(){this.$router.push({path:"/"})},updateActiveTab(e){this.activeTab=e},async signup(){const e=/^[a-zA-Z0-9]+$/;if(this.login.match(e))if(this.passwordsignup===this.confirmpassword)try{const e=await fetch("https://pointfinder.alwaysdata.net/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:this.loginsignup,password:this.passwordsignup,mail:this.mail})});200===e.status?(console.log("Inscription réussie"),this.sessionStorageCredentials()):this.toast.error("Subscription error: user already exists or deleted",{position:"top-right",timeout:5e3,closeButton:"button"})}catch(A){console.error("Erreur:",A),this.toast.error("Server error",{position:"top-right",timeout:5e3,closeButton:"button"})}else this.toast.error("Subscription error: passwords do not match",{position:"top-right",timeout:5e3,closeButton:"button"});else this.toast.error("Signup error: username must contain only letters and numbers",{position:"top-right",timeout:5e3,closeButton:"button"})},async signin(){try{const e=await fetch("https://pointfinder.alwaysdata.net/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.loginsignin,password:this.passwordsignin})});200===e.status?(console.log("Connexion réussie:"),this.sessionStorageCredentials()):this.toast.error("Connection error: login or password incorrect",{position:"top-right",timeout:5e3,closeButton:"button"})}catch(e){console.error("Erreur:",e),this.toast.error("Server error",{position:"top-right",timeout:5e3,closeButton:"button"})}},async sessionStorageCredentials(){try{const e=await fetch("https://pointfinder.alwaysdata.net/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:this.loginsignin})});if(200===e.status){const A=await e.json();sessionStorage.setItem("user",JSON.stringify({username:A.login,mail:A.mail,admin:50==A.id_habilitation})),console.log(sessionStorage.getItem("user")),this.$router.push({path:"/map"})}else console.error("Erreur de réponse du serveur:",e.status)}catch(e){console.error("Erreur:",e)}},async sendEmailResetPassword(){try{const e=await fetch("https://pointfinder.alwaysdata.net/send-reset-password-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:this.resetEmail})});if(200===e.status){console.log("Email envoyé avec succès:");const A=await e.text();this.updatePassword(A)}else this.toast.error("Reset password error: please enter a valid email",{position:"bottom-center",timeout:5e3,closeButton:"button"})}catch(e){console.error("Erreur:",e)}},async updatePassword(e){try{const A=await fetch("https://pointfinder.alwaysdata.net/updatepwd",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:this.resetEmail,newpwd:e})});200===A.status?(console.log(e),this.toast.success("Password successfully updated : please check your emails",{position:"bottom-center",timeout:5e3,closeButton:"button"}),this.showResetPasswordModal=!1):this.toast.error("Server error: failed to change password",{position:"bottom-center",timeout:5e3,closeButton:"button"})}catch(A){console.error("Erreur:",A)}}}};const z=(0,n.Z)(P,[["render",Q]]);var O=z,G={class:"grid-container"},H={class:"grid-item-banniere"},F={class:"grid-item",id:"description"},x={class:"grid-item",id:"tutoriel"},R={class:"grid-item",id:"equipe"},N={class:"grid-item",id:"contact"};function V(e,A,t,i,o,n){var r=(0,s.up)("Bandeau"),a=(0,s.up)("Banniere"),l=(0,s.up)("Description"),c=(0,s.up)("Tutoriel"),u=(0,s.up)("Team"),d=(0,s.up)("Contact");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r),(0,s._)("div",G,[(0,s._)("div",H,[(0,s.Wm)(a)]),(0,s._)("div",F,[(0,s.Wm)(l)]),(0,s._)("div",x,[(0,s.Wm)(c)]),(0,s._)("div",R,[(0,s.Wm)(u)]),(0,s._)("div",N,[(0,s.Wm)(d)])])],64)}var L=t.p+"img/icon_pointfinder.d835c8b8.png";const q=(0,s.uE)('<div class="header-section section-1"><img src="'+L+'" alt="Logo" class="image-modifiee"></div><div class="header-section section-2"><a href="#description">Project</a><a href="#tutoriel">Tutorial</a><a href="#equipe">About Us</a><a href="#contact">Contact</a></div>',2),K={class:"header-section section-3"};function Z(e,A,t,i,o,n){return(0,s.wg)(),(0,s.iD)("header",{ref:"header",class:(0,u.C_)(["header",{"gray-header":o.isScrolled}])},[q,(0,s._)("div",K,[(0,s._)("button",{class:"access-button",onClick:A[0]||(A[0]=(...e)=>n.redirect&&n.redirect(...e))},"Access to the Application")])],2)}var W={data(){return{isScrolled:!1,showParametersButton:!1}},created(){const e=JSON.parse(sessionStorage.getItem("user"));e&&(this.showParametersButton=!0)},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.isScrolled=window.scrollY>700},redirect(){this.$router.push({path:"/sign"})}}};const X=(0,n.Z)(W,[["render",Z]]);var $=X,ee=t.p+"img/image.058569c5.jpeg";const Ae=e=>((0,s.dD)("data-v-5946483c"),e=e(),(0,s.Cn)(),e),te={class:"outer-grid"},ie=Ae((()=>(0,s._)("div",{class:"inner-grid text"},[(0,s._)("h1",null,"PointFinder"),(0,s._)("h3",null,"Mapping Moments, Finding memories"),(0,s._)("p",null,[(0,s.Uk)(" Our web and mobile solution allows you to display key locations around you. "),(0,s._)("br"),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Easy to use, PointFinder offers you a personalized map ideal for helping you discover the city of your choice. ")])],-1))),se=Ae((()=>(0,s._)("div",{class:"inner-grid"},[(0,s._)("img",{src:ee,alt:"Capture de l'application",class:"image_temporaire"})],-1))),oe=[ie,se];function ne(e,A){return(0,s.wg)(),(0,s.iD)("div",te,oe)}const re={},ae=(0,n.Z)(re,[["render",ne],["__scopeId","data-v-5946483c"]]);var le=ae,ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5kAAAK1CAYAAABCTyrfAAAACXBIWXMAAC4jAAAuIwF4pT92AAAPyElEQVR4nO3XQQ3CAAAEwYMgBGk4QRs2+kIKItikSTOjYL97O47jue05AAAA+NNj22vb++QOAAAALuB+dgAAAADXYTIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMiYTAAAADImEwAAgIzJBAAAIGMyAQAAyJhMAAAAMiYTAACAjMkEAAAgYzIBAADImEwAAAAyJhMAAICMyQQAACBjMgEAAMg8tn23fU7uAAAA4AJ+gGYKvKjQxxgAAAAASUVORK5CYII=",ue=t.p+"img/texture.ad35cdd0.png",de=t.p+"img/logo_slog2.774d550e.svg";const pe=e=>((0,s.dD)("data-v-c9fa5e98"),e=e(),(0,s.Cn)(),e),ge={class:"image-container"},he=pe((()=>(0,s._)("img",{src:ce,alt:"Fond",class:"fond"},null,-1))),me=pe((()=>(0,s._)("img",{src:ue,alt:"Texture",class:"texture"},null,-1))),Me=pe((()=>(0,s._)("img",{src:de,alt:"Logo et Slogan",class:"texte"},null,-1))),we=[he,me,Me];function ye(e,A){return(0,s.wg)(),(0,s.iD)("div",ge,we)}const Ie={},ve=(0,n.Z)(Ie,[["render",ye],["__scopeId","data-v-c9fa5e98"]]);var Ee=ve;const Ce=e=>((0,s.dD)("data-v-4a9db1cb"),e=e(),(0,s.Cn)(),e),fe={class:"outer-grid"},Be=Ce((()=>(0,s._)("div",{class:"inner-grid"},[(0,s._)("img",{src:ee,alt:"Capture de l'application",class:"image_temporaire"})],-1))),be=Ce((()=>(0,s._)("div",{class:"inner-grid text"},[(0,s._)("h1",null,"Do you have some problem?"),(0,s._)("p",null,[(0,s.Uk)(" Carefree! We have the solution! "),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Just watch our explanatory video! "),(0,s._)("br"),(0,s._)("br"),(0,s._)("br"),(0,s.Uk)(" Afterwards, our application will no longer have any secrets for you! ")])],-1))),De=[Be,be];function Qe(e,A){return(0,s.wg)(),(0,s.iD)("div",fe,De)}const ke={},Je=(0,n.Z)(ke,[["render",Qe],["__scopeId","data-v-4a9db1cb"]]);var Ye=Je,Se=t.p+"img/marion.fdc63346.png",Te=t.p+"img/romain.cc779855.png",Ue=t.p+"img/terence.ead0c113.png",_e=t.p+"img/delpin.4de6b10f.png";const je=(0,s.uE)('<h1>Team</h1><div class="image-grid"><div class="image-item"><img src="'+Se+'" alt="Photo de Marion" class="photo_equipe"><h2> Marion DEFFEE</h2><p>Product Owner / Front-end Web Developer</p></div><div class="image-item"><img src="'+Te+'" alt="Photo de Romain" class="photo_equipe"><h2>Romain TAMIC</h2><p>Back-End Developer</p></div><div class="image-item"><img src="'+Ue+'" alt="Photo de Térence" class="photo_equipe"><h2> Térence ROUSIC </h2><p>Front-end Web Developer</p></div><div class="image-item"><img src="'+_e+'" alt="Photo de Delphine" class="photo_equipe"><h2> Delphine ALLANO </h2><p> Front-end Mobile Developer</p></div></div>',2),Pe=[je];function ze(e,A){return(0,s.wg)(),(0,s.iD)("div",null,Pe)}const Oe={},Ge=(0,n.Z)(Oe,[["render",ze]]);var He=Ge,Fe=t.p+"img/mail.4eea768b.png",xe=t.p+"img/telephone.fc00c127.png";const Re=e=>((0,s.dD)("data-v-362f388f"),e=e(),(0,s.Cn)(),e),Ne={class:"outer-grid"},Ve=(0,s.uE)('<div class="inner-grid content" data-v-362f388f><div class="grid-item1" data-v-362f388f><h1 data-v-362f388f>Contactez-nous</h1></div><div class="grid-item2" data-v-362f388f><div class="sub-grid" data-v-362f388f><div class="image-container" data-v-362f388f><img src="'+Fe+'" alt="Logo Mail" class="logo-mail" data-v-362f388f></div></div><div class="sub-grid" data-v-362f388f><p data-v-362f388f>Courriel : pointfinder.projet@gmail.com</p></div></div><div class="grid-item2" data-v-362f388f><div class="sub-grid" data-v-362f388f><div class="image-container" data-v-362f388f><img src="'+xe+'" alt="Logo Mail" class="logo-telephone" data-v-362f388f></div></div><div class="sub-grid" data-v-362f388f><p data-v-362f388f>Téléphone : 06 46 74 73 59</p></div></div><div class="grid-item1" data-v-362f388f><p data-v-362f388f>Based in Brest (29), our goal is to meet your needs.</p></div></div>',1),Le={class:"inner-grid formuls"},qe=Re((()=>(0,s._)("label",{for:"name"},"First name: *",-1))),Ke=Re((()=>(0,s._)("label",{for:"prenom"},"Last Name: *",-1))),Ze=Re((()=>(0,s._)("label",{for:"email"},"Email: *",-1))),We=Re((()=>(0,s._)("label",{for:"numero"},"Phone number:",-1))),Xe=Re((()=>(0,s._)("label",{for:"Sujet"},"Subject: *",-1))),$e=Re((()=>(0,s._)("label",{for:"message"},"Message: *",-1))),eA=Re((()=>(0,s._)("button",{class:"button-form-contact",type:"submit"},"SEND",-1))),AA={key:0};function tA(e,A,t,o,n,r){return(0,s.wg)(),(0,s.iD)("div",Ne,[Ve,(0,s._)("div",Le,[(0,s._)("form",{onSubmit:A[6]||(A[6]=(0,i.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[qe,(0,s.wy)((0,s._)("input",{type:"text",id:"name","onUpdate:modelValue":A[0]||(A[0]=e=>n.first_name=e),required:""},null,512),[[i.nr,n.first_name]]),Ke,(0,s.wy)((0,s._)("input",{type:"text",id:"prenom","onUpdate:modelValue":A[1]||(A[1]=e=>n.last_name=e),required:""},null,512),[[i.nr,n.last_name]]),Ze,(0,s.wy)((0,s._)("input",{type:"email",id:"email","onUpdate:modelValue":A[2]||(A[2]=e=>n.email=e),required:""},null,512),[[i.nr,n.email]]),We,(0,s.wy)((0,s._)("input",{id:"number","onUpdate:modelValue":A[3]||(A[3]=e=>n.phone=e)},null,512),[[i.nr,n.phone]]),Xe,(0,s.wy)((0,s._)("input",{id:"sujet","onUpdate:modelValue":A[4]||(A[4]=e=>n.subject=e),required:""},null,512),[[i.nr,n.subject]]),$e,(0,s.wy)((0,s._)("textarea",{id:"message","onUpdate:modelValue":A[5]||(A[5]=e=>n.message=e),required:""},null,512),[[i.nr,n.message]]),eA],32),n.formSubmitted?((0,s.wg)(),(0,s.iD)("div",AA,[(0,s._)("p",null,"Dear "+(0,u.zw)(n.first_name)+" "+(0,u.zw)(n.last_name)+", thank you for your message!",1)])):(0,s.kq)("",!0)])])}var iA={data(){return{first_name:"",last_name:"",email:"",phone:"",subject:"",message:"",formSubmitted:!1}},methods:{submitForm(){console.log("First Name:",this.first_name),console.log("Last Name:",this.last_name),console.log("Email:",this.email),console.log("Phone:",this.phone),console.log("Subject:",this.subject),console.log("Message:",this.message),this.email="",this.phone="",this.subject="",this.message="",this.formSubmitted=!0}}};const sA=(0,n.Z)(iA,[["render",tA],["__scopeId","data-v-362f388f"]]);var oA=sA,nA={components:{Bandeau:$,Banniere:Ee,Description:le,Tutoriel:Ye,Team:He,Contact:oA}};const rA=(0,n.Z)(nA,[["render",V],["__scopeId","data-v-190d2e04"]]);var aA=rA,lA={class:"map-page-container"};function cA(e,A,t,o,n,r){var a=(0,s.up)("PopSidebar"),l=(0,s.up)("Sidebar"),c=(0,s.up)("MapComponent");return(0,s.wg)(),(0,s.iD)("div",lA,[(0,s.wy)((0,s.Wm)(a,{ref:"popSidebarRef",class:"popsidebar",libelle:o.currentMarkerData.libelle,url:o.currentMarkerData.url,opening_hours:o.currentMarkerData.opening_hours,phone_number:o.currentMarkerData.phone_number,handicap:o.currentMarkerData.handicap,description:o.currentMarkerData.description,sous_description:o.currentMarkerData.sous_description,onClosed:o.handlePopSidebarClosed},null,8,["libelle","url","opening_hours","phone_number","handicap","description","sous_description","onClosed"]),[[i.F8,!o.isSidebarVisible]]),(0,s.wy)((0,s.Wm)(l,{onSelectedTypesUpdated:o.handleSelectedTypesUpdate,class:"sidebar"},null,8,["onSelectedTypesUpdated"]),[[i.F8,o.isSidebarVisible]]),(0,s.Wm)(c,{selectedTypes:o.selectedTypes,onMarkerClicked:o.handleMarkerClick},null,8,["selectedTypes","onMarkerClicked"])])}var uA=t(262),dA=t.p+"img/cross.97118d6e.png",pA={class:"pop-sidebar"},gA={class:"images-container"},hA=(0,s._)("div",{class:"logo-container"},[(0,s._)("img",{src:L,alt:"Icon PF",class:"logo-icon"})],-1),mA={class:"sidebar-title"},MA={class:"sidebar-content"},wA={class:"description-content"},yA={key:0},IA=(0,s._)("br",null,null,-1),vA={key:1},EA=(0,s._)("br",null,null,-1),CA={key:2},fA=(0,s._)("br",null,null,-1),BA={key:3},bA={key:4},DA=["href"],QA={key:5};function kA(e,A,t,o,n,r){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",pA,[(0,s._)("div",gA,[(0,s._)("img",{src:dA,alt:"Fermer",class:"close-icon",onClick:A[0]||(A[0]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.hide&&e.hide.apply(e,A)})})]),hA,(0,s._)("div",mA,[(0,s._)("h2",null,(0,u.zw)(e.displayLibelle),1),(0,s._)("div",MA,[(0,s._)("div",wA,["nan"!==e.description&&null!==e.description&&"null"!==e.description&&"Yes"!==e.description?((0,s.wg)(),(0,s.iD)("p",yA,[(0,s.Uk)(" Category : "),IA,(0,s.Uk)(" "+(0,u.zw)(e.displayDescription),1)])):(0,s.kq)("",!0),"nan"!==e.sous_description&&null!==e.sous_description&&"null"!==e.sous_description?((0,s.wg)(),(0,s.iD)("p",vA,[(0,s.Uk)(" Subcategory : "),EA,(0,s.Uk)(" "+(0,u.zw)(e.displaySousDescription),1)])):(0,s.kq)("",!0),"nan"!==e.opening_hours&&null!==e.opening_hours&&"null"!==e.opening_hours?((0,s.wg)(),(0,s.iD)("p",CA,[(0,s.Uk)(" Opening hours : "),fA,(0,s.Uk)(" "+(0,u.zw)(e.opening_hours),1)])):(0,s.kq)("",!0),"nan"!==e.phone_number&&null!==e.phone_number&&"null"!==e.phone_number?((0,s.wg)(),(0,s.iD)("p",BA," Mobile : "+(0,u.zw)(e.phone_number),1)):(0,s.kq)("",!0),"nan"!==e.url&&null!==e.url&&"null"!==e.url?((0,s.wg)(),(0,s.iD)("p",bA,[(0,s.Uk)(" Web site : "),(0,s._)("a",{href:e.url,target:"_blank"},(0,u.zw)(e.url),9,DA)])):(0,s.kq)("",!0),"boolean"===typeof e.handicap||"nan"!==e.handicap&&null!==e.handicap&&"null"!==e.handicap?((0,s.wg)(),(0,s.iD)("p",QA," Disabled access : "+(0,u.zw)(e.handicap?"Yes":"No"),1)):(0,s.kq)("",!0)])])])],512)),[[i.F8,e.isVisible]])}var JA=(0,s.aZ)({props:{libelle:String,url:String,opening_hours:String,phone_number:String,handicap:[Boolean,String,Number],description:String,sous_description:String},setup:function(e,A){var t=A.emit,i=(0,uA.iH)(!1),o=(0,s.Fl)((function(){var A;return(null===(A=e.libelle)||void 0===A?void 0:A.includes("nan"))?"Unknown name":e.libelle})),n=(0,s.Fl)((function(){var A,t=e.description;return t=l(t),(null===(A=e.description)||void 0===A?void 0:A.includes("Enclos en surface"))?"Above-ground enclosure":"Toilettes Publiques"===e.description?"Public Toilets":"Toilettes ERP"===e.description?"Restrooms for businesses receiving the public":a(t)})),r=(0,s.Fl)((function(){var A=l(e.sous_description);return a(A)}));function a(e){return void 0===e&&(e=""),e.charAt(0).toUpperCase()+e.slice(1)}function l(e){return void 0===e&&(e=""),e.replace(/_/g," ")}function c(){i.value=!0}function u(){i.value=!1,t("closed")}return{isVisible:i,show:c,hide:u,capitalizeFirstLetter:a,displayLibelle:o,displayDescription:n,displaySousDescription:r}}});const YA=(0,n.Z)(JA,[["render",kA]]);var SA=YA,TA=function(e){return(0,s.dD)("data-v-345dec6c"),e=e(),(0,s.Cn)(),e},UA={class:"sidebar"},_A=TA((function(){return(0,s._)("div",{class:"logo"},[(0,s._)("img",{src:L,alt:"Icon PF",class:"img-responsive"})],-1)})),jA={class:"switch"},PA=["id","onChange","checked"],zA=["for"];function OA(e,A,t,i,o,n){return(0,s.wg)(),(0,s.iD)("div",UA,[_A,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.interests,(function(A,t){return(0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("div",jA,[(0,s._)("input",{type:"checkbox",id:"switch-"+A,onChange:function(t){return e.updateSelectedTypes(A,t)},checked:e.selectedTypes[A],class:"switch-input"},null,40,PA),(0,s._)("label",{for:"switch-"+A,class:"switch-label"},null,8,zA),(0,s._)("span",null,(0,u.zw)(A),1)])])})),128))])])}var GA=t(582),HA=(0,s.aZ)({setup:function(){var e=(0,j.pm)();return{toast:e}},data:function(){return{interests:["Restaurant","Health","Cinema","Parking","Shop","Petrol station","Toilets","Hotel"],selectedTypes:{}}},methods:{updateSelectedTypes:function(e,A){var t,i,s=A.target;if(null!==s){var o=s.checked,n=Object.values(this.selectedTypes).filter((function(e){return e})).length;o?n<2?this.selectedTypes=(0,GA.pi)((0,GA.pi)({},this.selectedTypes),(i={},i[e]=o,i)):(this.toast.error("Limit of 2 checkboxes reached"),s.checked=!1):this.selectedTypes=(0,GA.pi)((0,GA.pi)({},this.selectedTypes),(t={},t[e]=o,t)),this.$emit("selectedTypesUpdated",this.selectedTypes)}}}});const FA=(0,n.Z)(HA,[["render",OA],["__scopeId","data-v-345dec6c"]]);var xA=FA,RA=t.p+"img/center-icon.f715b9cd.png",NA={ref:"mapContainer",class:"map-container"};function VA(e,A,t,i,o,n){var r=(0,s.up)("MapButtonComponent");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",NA,[(0,s._)("img",{src:RA,alt:"Center Map",class:"center-icon",onClick:A[0]||(A[0]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.centerMapOnUser&&e.centerMapOnUser.apply(e,A)})})],512),(0,s.Wm)(r)],64)}var LA=t(243),qA=t.n(LA),KA=t.p+"img/user.1221aca5.png",ZA=t.p+"img/logout.cb9a0073.png",WA=function(e){return(0,s.dD)("data-v-303df806"),e=e(),(0,s.Cn)(),e},XA={class:"menu-content"},$A={class:"texte"},et=WA((function(){return(0,s._)("br",null,null,-1)}));function At(e,A,t,o,n,r){return(0,s.wg)(),(0,s.iD)("div",{class:"map-button",onMouseover:A[2]||(A[2]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.showMenu&&e.showMenu.apply(e,A)}),onMouseleave:A[3]||(A[3]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.hideMenu&&e.hideMenu.apply(e,A)})},[(0,s._)("img",{src:KA,alt:"User",class:"user-icon",onClick:A[0]||(A[0]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.goToProfile&&e.goToProfile.apply(e,A)})}),(0,s.wy)((0,s._)("div",XA,[(0,s._)("div",$A,[(0,s._)("p",null,[(0,s._)("strong",null,(0,u.zw)(e.username),1),et,(0,s.Uk)((0,u.zw)(e.mail),1)])]),(0,s._)("img",{src:ZA,alt:"Logout",class:"logout-icon",onClick:A[1]||(A[1]=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.logout&&e.logout.apply(e,A)})})],512),[[i.F8,e.menuVisible]])],32)}var tt=(0,s.aZ)({setup:function(){var e=(0,uA.iH)(!1),A=function(){e.value=!0},t=function(){e.value=!1};return{showMenu:A,hideMenu:t,menuVisible:e}},computed:{username:function(){var e=JSON.parse(sessionStorage.getItem("user")||"{}");return e?e.username:"Guest"},mail:function(){var e=JSON.parse(sessionStorage.getItem("user")||"{}");return e?e.mail:"No email"}},methods:{goToProfile:function(){var e=JSON.parse(sessionStorage.getItem("user")||"{}");e.admin?this.$router.push("/admin"):this.$router.push("/profil")},logout:function(){sessionStorage.removeItem("user"),this.$router.push({path:"/"})}}});const it=(0,n.Z)(tt,[["render",At],["__scopeId","data-v-303df806"]]);var st=it,ot=(0,s.aZ)({components:{MapButtonComponent:st},methods:{goToProfile:function(){var e=JSON.parse(sessionStorage.getItem("user")||"{}");1==e.admin?this.$router.push("/admin"):this.$router.push("/profil")},logout:function(){sessionStorage.removeItem("user"),this.$router.push({path:"/"})}},props:{selectedTypes:Object},emits:["markerClicked"],setup:function(e,A){var t=this,i=A.emit,o=(0,uA.iH)(null),n=null,r=null,a=(0,uA.iH)([]),l=new Map,c={Restaurant:1,Health:2,Cinema:3,Parking:4,Shop:5,"Petrol station":6,Toilets:7,Hotel:8},u=qA().icon({iconUrl:"user-marker.png",iconSize:[20,20],iconAnchor:[10,10]}),d=function(){n&&r&&n.setView(r.getLatLng())},p=qA().icon({iconUrl:"marker-icon.png",iconSize:[25,25],iconAnchor:[12,41]}),g=function(e){return(0,GA.mG)(t,void 0,void 0,(function(){var A,t,i,s;return(0,GA.Jh)(this,(function(o){switch(o.label){case 0:if(A=localStorage.getItem("data_".concat(e)),A)try{return[2,JSON.parse(A)]}catch(n){console.error("Error parsing cached data:",n)}o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch("https://pointfinder.alwaysdata.net/interets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code_postal:"29200",id_type:e})})];case 2:if(t=o.sent(),!t.ok)throw new Error("HTTP Error: ".concat(t.status));return[4,t.json()];case 3:return i=o.sent(),localStorage.setItem("data_".concat(e),JSON.stringify(i)),[2,i];case 4:return s=o.sent(),console.error("Error loading data:",s),[2,[]];case 5:return[2]}}))}))},h=function(){o.value&&(n=qA().map(o.value).setView([48.390394,-4.486076],13),qA().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"PointFinder&copy;"}).addTo(n),navigator.geolocation.getCurrentPosition((function(e){var A=e.coords,t=A.latitude,i=A.longitude;r=qA().marker([t,i],{icon:u}).addTo(n),r.bindPopup("You are here").openPopup()})))},m=function(){return(0,GA.mG)(t,void 0,void 0,(function(){var A,t,s,o,r,u,d,h;return(0,GA.Jh)(this,(function(m){switch(m.label){case 0:a.value.forEach((function(e){e.remove()})),a.value=[],A=0,t=Object.entries(null!==(h=e.selectedTypes)&&void 0!==h?h:{}),m.label=1;case 1:return A<t.length?(s=t[A],o=s[0],r=s[1],r?(u=c[o],u?[4,g(u)]:[3,3]):[3,3]):[3,4];case 2:d=m.sent(),d.forEach((function(e){var A=e.libelle,t=e.latitude,s=e.longitude,o=e.url,r=e.opening_hours,c=e.phone_number,u=e.handicap,d=e.description,g=e.sous_description,h=qA().marker([t,s],{icon:p}).addTo(n);a.value.push(h),l.set(h,{libelle:A,latitude:t,longitude:s,url:o,opening_hours:r,phone_number:c,handicap:u,description:d,sous_description:g}),h.on("click",(function(){var e=l.get(h);e&&i("markerClicked",{libelle:e.libelle,url:e.url,opening_hours:e.opening_hours,phone_number:e.phone_number,handicap:e.handicap,description:e.description,sous_description:e.sous_description})}))})),m.label=3;case 3:return A++,[3,1];case 4:return[2]}}))}))};return(0,s.bv)(h),(0,s.YP)((function(){var A;return null!==(A=e.selectedTypes)&&void 0!==A?A:{}}),(function(){m()}),{deep:!0}),{mapContainer:o,centerMapOnUser:d}}});const nt=(0,n.Z)(ot,[["render",VA]]);var rt=nt,at={name:"App",components:{PopSidebar:SA,Sidebar:xA,MapComponent:rt},setup:function(){var e=(0,uA.iH)(!0),A=(0,uA.qj)({}),t=(0,uA.iH)({libelle:"",url:"",opening_hours:"",phone_number:"",handicap:"",description:"",sous_description:""}),i=(0,uA.iH)(null),s=function(t){e.value=!0,Object.keys(t).forEach((function(e){A[e]=t[e]}))},o=function(){e.value=!0},n=function(A){e.value=!1,t.value=A,i.value&&i.value.show()};return{selectedTypes:A,popSidebarRef:i,currentMarkerData:t,handleSelectedTypesUpdate:s,handleMarkerClick:n,isSidebarVisible:e,handlePopSidebarClosed:o}}};const lt=(0,n.Z)(at,[["render",cA]]);var ct=lt,ut=t.p+"img/icone-utilisateur.b5d7513a.png",dt="data:image/png;base64,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";const pt={class:"profile-page"},gt={class:"profile-header"},ht=(0,s._)("img",{src:ut,alt:"Profil utilisateur"},null,-1),mt={class:"logout-button"},Mt=(0,s._)("img",{src:dt,alt:"Logout"},null,-1),wt={class:"panel",id:"changeEmail"},yt=["src"],It=(0,s._)("span",null,"Change my email",-1),vt={key:0,class:"content-container"},Et=(0,s._)("button",{type:"submit",class:"validate-button"},"Update email",-1),Ct=(0,s._)("br",null,null,-1),ft={class:"panel",id:"changePassword"},Bt=["src"],bt=(0,s._)("span",null,"Change my password",-1),Dt={key:0,class:"content-container"},Qt=(0,s._)("button",{type:"submit",class:"validate-button"},"Update password",-1),kt=(0,s._)("br",null,null,-1),Jt={class:"panel",id:"deleteAccount"},Yt=["src"],St=(0,s._)("span",null,"Desactivate account",-1),Tt={key:0,class:"content-container"},Ut=(0,s._)("button",{type:"submit",class:"validate-button"},"Desactivate account",-1),_t={class:"modal"},jt=(0,s._)("p",null,"Are you sure you want to update your email ?",-1),Pt={class:"modal-actions"},zt={class:"modal"},Ot=(0,s._)("p",null,"Are you sure you want to update your password ?",-1),Gt={class:"modal-actions"},Ht={class:"modal"},Ft=(0,s._)("p",null,"Are you sure you want to desactivate your account ?",-1),xt={class:"modal-actions"};function Rt(e,A,o,n,r,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",pt,[(0,s._)("img",{class:"logo",src:d,onClick:A[0]||(A[0]=(...e)=>a.redirectMapPage&&a.redirectMapPage(...e))}),(0,s._)("div",gt,[ht,(0,s._)("h2",null,(0,u.zw)(a.username)+"'s profil",1),(0,s._)("h3",null,(0,u.zw)(a.mail),1)]),(0,s._)("div",mt,[(0,s._)("button",{onClick:A[1]||(A[1]=(...e)=>a.logout&&a.logout(...e))},[Mt,(0,s.Uk)(" Logout ")])]),(0,s._)("div",wt,[(0,s._)("div",{onClick:A[2]||(A[2]=e=>a.togglePanel("changeEmail")),class:"panel-button"},[(0,s._)("img",{src:"changeEmail"===r.activePanel?t(226):t(453),class:"arrow-icon"},null,8,yt),It]),"changeEmail"===r.activePanel?((0,s.wg)(),(0,s.iD)("div",vt,[(0,s._)("form",{onSubmit:A[6]||(A[6]=(0,i.iM)((e=>r.showUpdateMailModal=!0),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[3]||(A[3]=e=>r.currentEmail=e),placeholder:"Current email",required:""},null,512),[[i.nr,r.currentEmail]]),(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[4]||(A[4]=e=>r.newEmail=e),placeholder:"New email",required:""},null,512),[[i.nr,r.newEmail]]),(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[5]||(A[5]=e=>r.confirmEmail=e),placeholder:"Confirm new email",required:""},null,512),[[i.nr,r.confirmEmail]]),Et],32)])):(0,s.kq)("",!0)]),Ct,(0,s._)("div",ft,[(0,s._)("div",{onClick:A[7]||(A[7]=e=>a.togglePanel("changePassword")),class:"panel-button"},[(0,s._)("img",{src:"changePassword"===r.activePanel?t(226):t(453),class:"arrow-icon"},null,8,Bt),bt]),"changePassword"===r.activePanel?((0,s.wg)(),(0,s.iD)("div",Dt,[(0,s._)("form",{onSubmit:A[11]||(A[11]=(0,i.iM)((e=>r.showUpdatePasswordModal=!0),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[8]||(A[8]=e=>r.currentEmailPassword=e),placeholder:"Email",required:""},null,512),[[i.nr,r.currentEmailPassword]]),(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":A[9]||(A[9]=e=>r.newPassword=e),placeholder:"New password",required:""},null,512),[[i.nr,r.newPassword]]),(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":A[10]||(A[10]=e=>r.confirmPassword=e),placeholder:"Confirm new password",required:""},null,512),[[i.nr,r.confirmPassword]]),Qt],32)])):(0,s.kq)("",!0)]),kt,(0,s._)("div",Jt,[(0,s._)("div",{onClick:A[12]||(A[12]=e=>a.togglePanel("deleteAccount")),class:"panel-button"},[(0,s._)("img",{src:"deleteAccount"===r.activePanel?t(226):t(453),class:"arrow-icon"},null,8,Yt),St]),"deleteAccount"===r.activePanel?((0,s.wg)(),(0,s.iD)("div",Tt,[(0,s._)("form",{onSubmit:A[15]||(A[15]=(0,i.iM)((e=>r.showDesactiveAccountModal=!0),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":A[13]||(A[13]=e=>r.emailToDelete=e),placeholder:"Your email",required:""},null,512),[[i.nr,r.emailToDelete]]),(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":A[14]||(A[14]=e=>r.passwordToDelete=e),placeholder:"Your password",required:""},null,512),[[i.nr,r.passwordToDelete]]),Ut],32)])):(0,s.kq)("",!0)])]),r.showUpdateMailModal?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal-overlay",onClick:A[17]||(A[17]=(0,i.iM)((e=>r.showUpdateMailModal=!1),["self"]))},[(0,s._)("div",_t,[jt,(0,s._)("div",Pt,[(0,s._)("button",{class:"validate-button",onClick:A[16]||(A[16]=e=>a.updateEmail())},"Confirm update")])])])):(0,s.kq)("",!0),r.showUpdatePasswordModal?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"modal-overlay",onClick:A[19]||(A[19]=(0,i.iM)((e=>r.showUpdatePasswordModal=!1),["self"]))},[(0,s._)("div",zt,[Ot,(0,s._)("div",Gt,[(0,s._)("button",{class:"validate-button",onClick:A[18]||(A[18]=e=>a.updatePassword())},"Confirm update")])])])):(0,s.kq)("",!0),r.showDesactiveAccountModal?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"modal-overlay",onClick:A[21]||(A[21]=(0,i.iM)((e=>r.showDesactiveAccountModal=!1),["self"]))},[(0,s._)("div",Ht,[Ft,(0,s._)("div",xt,[(0,s._)("button",{class:"validate-button",onClick:A[20]||(A[20]=e=>a.desactiveAccount())},"Confirm desactivation")])])])):(0,s.kq)("",!0)],64)}var Nt={setup(){const e=(0,j.pm)();return{toast:e}},data(){return{activePanel:null,currentEmail:"",newEmail:"",confirmEmail:"",currentEmailPassword:"",newPassword:"",confirmPassword:"",emailToDelete:"",passwordToDelete:"",showUpdatePasswordModal:!1,showUpdateMailModal:!1,showDesactiveAccountModal:!1,userProfileUpdated:0}},computed:{username(){const e=JSON.parse(sessionStorage.getItem("user"));return e?e.username:"Guest"},mail(){this.userProfileUpdated;const e=JSON.parse(sessionStorage.getItem("user"));return e?e.mail:"No email"}},methods:{togglePanel(e){this.activePanel=this.activePanel===e?null:e},async updateEmail(){if(this.newEmail===this.confirmEmail)try{const e=await fetch("https://pointfinder.alwaysdata.net/updatemail",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:this.currentEmail,newmail:this.newEmail})});if(200===e.status){console.log(this.newEmail);const e=JSON.parse(sessionStorage.getItem("user"));e.mail=this.newEmail,sessionStorage.setItem("user",JSON.stringify(e)),this.userProfileUpdated++,this.showUpdateMailModal=!1,this.toast.success("Email address successfully updated !",{position:"top-right",timeout:5e3,closeButton:"button"})}else this.toast.error("Update email error: please enter an existing email address",{position:"top-right",timeout:5e3,closeButton:"button"});this.currentEmail=null,this.newEmail=null,this.confirmEmail=null}catch(e){console.error("Erreur:",e)}else this.toast.error("Update email error: email adresses do not match",{position:"top-right",timeout:5e3,closeButton:"button"})},async updatePassword(){if(this.newPassword===this.confirmPassword)try{const e=await fetch("https://pointfinder.alwaysdata.net/updatepwd",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:this.currentEmailPassword,newpwd:this.newPassword})});200===e.status?(console.log(this.newPassword),this.showUpdatePasswordModal=!1,this.toast.success("Password successfully updated !",{position:"top-right",timeout:5e3,closeButton:"button"})):this.toast.error("Update password error: please verify the email you entered",{position:"top-right",timeout:5e3,closeButton:"button"}),this.currentEmailPassword=null,this.newPassword=null,this.confirmPassword=null}catch(e){console.error("Erreur:",e)}else this.toast.error("Update password error: passwords do not match",{position:"top-right",timeout:5e3,closeButton:"button"})},async desactiveAccount(){try{const e=await fetch("https://pointfinder.alwaysdata.net/inactiveuser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:this.emailToDelete,password:this.passwordToDelete})});200===e.status?(console.log("Compte suspendu"),this.logout()):this.toast.error("Account suspension error: please enter an existing email or password",{position:"top-right",timeout:5e3,closeButton:"button"})}catch(e){console.error("Erreur:",e)}},redirectMapPage(){this.$router.push({path:"/map"})},logout(){sessionStorage.removeItem("user"),this.$router.push({path:"/"})}}};const Vt=(0,n.Z)(Nt,[["render",Rt]]);var Lt=Vt;const qt={class:"admin-page-container"},Kt={class:"logout-button"},Zt=(0,s._)("img",{src:dt,alt:"Logout"},null,-1),Wt={class:"search-container"},Xt={class:"cards-container"},$t=(0,s._)("img",{class:"user-image",src:ut},null,-1),ei=["onClick"],Ai={key:0,class:"user-info"},ti={key:1,class:"user-edit-form"},ii=["onUpdate:modelValue"],si=["onUpdate:modelValue"],oi={class:"card-buttons"},ni=["onClick"],ri=["onClick"],ai=["onClick"],li={class:"modal"},ci=(0,s._)("p",null,"Are you sure you want to delete definitively this user:",-1),ui={class:"modal-actions"},di={class:"modal"},pi=(0,s._)("p",null,"Are you sure you want to update this user:",-1),gi={class:"modal-actions"},hi={class:"modal"},mi=(0,s._)("p",null,"Are you sure you want to activate this user:",-1),Mi={class:"modal-actions"};function wi(e,A,t,o,n,r){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",qt,[(0,s._)("img",{class:"logo",src:d,onClick:A[0]||(A[0]=(...e)=>r.redirectMapPage&&r.redirectMapPage(...e))}),(0,s._)("div",Kt,[(0,s._)("button",{onClick:A[1]||(A[1]=(...e)=>r.logout&&r.logout(...e))},[Zt,(0,s.Uk)(" Logout ")])]),(0,s._)("div",Wt,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":A[2]||(A[2]=e=>n.searchQuery=e),placeholder:"Search by username or email...",onInput:A[3]||(A[3]=(...e)=>r.filterUsers&&r.filterUsers(...e))},null,544),[[i.nr,n.searchQuery]])]),(0,s._)("div",Xt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.filteredUsers,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,u.C_)(["user-card",{"inactive-user":0===e.active}]),key:e.originalMail},[$t,(0,s._)("img",{class:"delete-icon",src:dA,onClick:A=>r.promptDeleteUser(e)},null,8,ei),n.editingUsers[e._uid.toString()]?((0,s.wg)(),(0,s.iD)("div",ti,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":A=>e.login=A,type:"text"},null,8,ii),[[i.nr,e.login]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":A=>e.mail=A,type:"email"},null,8,si),[[i.nr,e.mail]])])):((0,s.wg)(),(0,s.iD)("div",Ai,[(0,s._)("h3",null,(0,u.zw)(e.login),1),(0,s._)("p",null,(0,u.zw)(e.mail),1)])),(0,s._)("div",oi,[0===e.active?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"activate-btn",onClick:A=>r.promptActivateUser(e)},"Activate User",8,ni)):(0,s.kq)("",!0),n.editingUsers[e._uid.toString()]?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"cancel-btn",onClick:A=>r.cancelEdit(e)},"Cancel",8,ri)):(0,s.kq)("",!0),0!==e.active?((0,s.wg)(),(0,s.iD)("button",{key:2,class:(0,u.C_)(["edit-btn",{editing:n.editingUsers[e._uid.toString()]}]),onClick:A=>r.toggleEdit(e)},(0,u.zw)(n.editingUsers[e._uid.toString()]?"Save User":"Edit User"),11,ai)):(0,s.kq)("",!0)])],2)))),128))])]),n.showDeleteUserModal?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal-overlay",onClick:A[5]||(A[5]=(0,i.iM)((e=>n.showDeleteUserModal=!1),["self"]))},[(0,s._)("div",li,[ci,(0,s._)("p",null,[(0,s._)("strong",null,(0,u.zw)(n.selectedUserForDeletion?n.selectedUserForDeletion.login:""),1)]),(0,s._)("div",ui,[(0,s._)("button",{onClick:A[4]||(A[4]=e=>r.deleteUser())},"Delete User")])])])):(0,s.kq)("",!0),n.showUpdateUserModal?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"modal-overlay",onClick:A[7]||(A[7]=(0,i.iM)((e=>n.showUpdateUserModal=!1),["self"]))},[(0,s._)("div",di,[pi,(0,s._)("p",null,[(0,s._)("strong",null,(0,u.zw)(n.originalValues[n.selectedUserForUpdate?._uid.toString()]?n.originalValues[n.selectedUserForUpdate._uid.toString()].login:""),1)]),(0,s._)("div",gi,[(0,s._)("button",{onClick:A[6]||(A[6]=e=>r.updateMailLogin())},"Update User")])])])):(0,s.kq)("",!0),n.showActivateUserModal?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"modal-overlay",onClick:A[9]||(A[9]=(0,i.iM)((e=>n.showActivateUserModal=!1),["self"]))},[(0,s._)("div",hi,[mi,(0,s._)("p",null,[(0,s._)("strong",null,(0,u.zw)(n.selectedUserForActive?n.selectedUserForActive.login:""),1)]),(0,s._)("div",Mi,[(0,s._)("button",{onClick:A[8]||(A[8]=e=>r.activateUser())},"Activate User")])])])):(0,s.kq)("",!0)],64)}var yi={setup(){const e=(0,j.pm)();return{toast:e}},data(){return{users:[],filteredUsers:[],searchQuery:"",editingUsers:{},originalValues:{},selectedUserForDeletion:null,showDeleteUserModal:!1,selectedUserForUpdate:null,showUpdateUserModal:!1,selectedUserForActive:null,showActivateUserModal:!1}},mounted(){this.fetchUsers()},methods:{async fetchUsers(){try{const e=await fetch("https://pointfinder.alwaysdata.net/receiveusers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({choice:2})});if(200===e.status){console.log("Liste des utilisateurs récupérée");const A=await e.json();this.users=A.map(((e,A)=>({...e,originalMail:e.mail,_uid:A}))),this.filteredUsers=this.users}else console.log("Erreur lors de la récupération des utilisateurs")}catch(e){console.error("Erreur :",e)}},filterUsers(){this.searchQuery?this.filteredUsers=this.users.filter((e=>e.login.toLowerCase().includes(this.searchQuery.toLowerCase())||e.mail.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredUsers=this.users},promptActivateUser(e){this.selectedUserForActive=e,this.showActivateUserModal=!0},async activateUser(){const e=this.selectedUserForActive;try{const A=await fetch("https://pointfinder.alwaysdata.net/activeuser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:e.mail})});200===A.status?(console.log("Utilisateur activé avec succès"),this.toast.success("User successfully activated !",{position:"top-right",timeout:5e3,closeButton:"button"}),this.showActivateUserModal=!1,this.selectedUserForActive=null,this.fetchUsers()):(console.log("Erreur lors de l'activation de l'utilisateur"),this.toast.error("Error activating user.",{position:"top-right",timeout:5e3,closeButton:"button"}))}catch(A){console.error("Erreur lors de l'activation:",A),this.toast.error("Error activating user.",{position:"top-right",timeout:5e3,closeButton:"button"})}},toggleEdit(e){const A=e._uid.toString();this.editingUsers[A]?(this.selectedUserForUpdate={...e},this.showUpdateUserModal=!0):(this.originalValues[A]={...e},this.editingUsers[A]=!0)},cancelEdit(e){const A=e._uid.toString();this.originalValues[A]&&(Object.assign(e,this.originalValues[A]),delete this.editingUsers[A])},promptDeleteUser(e){this.selectedUserForDeletion=e,this.showDeleteUserModal=!0},async deleteUser(){const e=this.selectedUserForDeletion;try{const A=await fetch("https://pointfinder.alwaysdata.net/deleteuser",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({mail:e.mail})});200===A.status?(console.log(`Suppression de l'utilisateur ${this.selectedUserForDeletion.login}`),this.showDeleteUserModal=!1,this.selectedUserForDeletion=null,this.fetchUsers(),this.toast.success("User successfully deleted !",{position:"top-right",timeout:5e3,closeButton:"button"})):this.toast.error("Failed to delete user",{position:"top-right",timeout:5e3,closeButton:"button"})}catch(A){console.error("Erreur:",A)}},async updateMailLogin(){const e=this.selectedUserForUpdate,A=e._uid.toString();if(e.mail&&e.originalMail&&e.login)try{const t=await fetch("https://pointfinder.alwaysdata.net/updatemaillogin",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newlogin:e.login,mail:e.originalMail,newmail:e.mail})});200===t.status?(console.log("User update successful."),delete this.editingUsers[A],this.showUpdateUserModal=!1,this.selectedUserForUpdate=null,this.toast.success("User successfully updated!",{position:"top-right",timeout:5e3,closeButton:"button"}),await this.fetchUsers()):(console.error("Error updating user."),this.toast.error("Failed to update user.",{position:"top-right",timeout:5e3,closeButton:"button"}))}catch(t){console.error("Update error:",t),this.toast.error("Update failed due to an error.",{position:"top-right",timeout:5e3,closeButton:"button"})}else this.toast.error("Missing user information for update.",{position:"top-right",timeout:5e3,closeButton:"button"})},redirectMapPage(){this.$router.push({path:"/map"})},logout(){sessionStorage.removeItem("user"),this.$router.push({path:"/"})}}};const Ii=(0,n.Z)(yi,[["render",wi]]);var vi=Ii;const Ei={class:"unauthorized-container"},Ci=(0,s._)("h1",null,"403 - Unauthorized Access",-1),fi=(0,s._)("p",null,"Sorry, you do not have permission to access this page, or you tried to access directly to this error page.",-1);function Bi(e,A,t,i,o,n){return(0,s.wg)(),(0,s.iD)("div",Ei,[Ci,fi,(0,s._)("button",{onClick:A[0]||(A[0]=(...e)=>n.goHome&&n.goHome(...e))},"Go back to home")])}var bi={methods:{goHome(){this.$router.push("/")}}};const Di=(0,n.Z)(bi,[["render",Bi]]);var Qi=Di,ki=[{path:"/",name:"Home",component:aA},{path:"/sign",name:"Sign",component:O},{path:"/map",name:"Map",component:ct},{path:"/profil",name:"Profil",component:Lt},{path:"/admin",name:"Admin",component:vi},{path:"/unauthorized",name:"Unauthorized",component:Qi}],Ji=(0,c.p7)({history:(0,c.PO)("/"),routes:ki});Ji.beforeEach((function(e,A,t){var i=sessionStorage.getItem("user"),s=JSON.parse(i||"{}");"/sign"===e.path||"/"===e.path||i?"/sign"===e.path&&i?t("/map"):"/admin"===e.path&&0==s.admin?t("/unauthorized"):t():t("/sign")}));var Yi=Ji;t(343);(0,i.ri)(l).use(Yi).use(j.ZP,{transition:"Vue-Toastification__bounce",maxToasts:1}).mount("#app")},226:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM4SURBVHic7d29alRBHIbxJ5hGSEA0id9Y2CjaWFlYKX4EMZfgJeg1KFprKXYWVtqphSAq1haCKWInqAjRFArRkICuxdmFRdaNmz0zc2bO84OBQEjyn33fGZZk2YAkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSWq6iZq+z35gATgDHABmgK/AB+AZ8AT4UtPPaovdwCXgHHAQmAVWgE/Ac+Ax8DnZdF37gLvABtAZsn4Ct4BdacbMygxwG1hj+GO6AdwB9qYZE04By0MGHLQ+AidTDJuJE8B7RntMV4DTsQe9CKyPOGhvrQHzsQfOwDybn/p/rXWqTKI4Cnzf4qCWYLBxwu+tb8CRGMO+GHPQ/tYuxBi44c4zfvi99SrGsHUM6k1QqePk/73Ohhz4fs3DtvkmqPPk9697oQaeoHrGWffAbbwJQpz83gr2+5bZQAO37SYIdfL7184Qgx8PPHQbboKQJ79/HQsx/OEIg5d8E8Q4+b11KMQGpoDfkTZQ2k0Q6+R3gF/A9lAbeRNpEyXdBDFPfgd4HXIzNyJupISbIObJ761rITe0B/gReUO53gSxT34HWKX6M3JQNyNvKsebIMXJ7wDXY2xuEniZYHO53AQpTn6H6m80kxH2B1S/FFoMvKEcb4JUJ3+RKpOoZoG3Yw5e0k2Q6uQvUT03S8ISVC7QwvB72l6CVoff09YSGH6ftpXA8AdoSwkMf4jSS2D4/6HUEhj+CEorgeFvQSklMPwx5F4Cw69BriUw/BrlVgLDDyCXEhh+QE0vgeFH0NQSGH5ETSuB4SfQlBIYfkKpS2D4DTBHutcYpnoN31wtj1xBUt0EnvwGKb0ESyR8W7dclFoCwx9BaSUw/C0opQSGP4bcS2D4Nci1BIZfo9xKYPgB5FICww+o6SUw/AiaWgLDj6hpJTD8BJpSAsNPKHUJDL8BUpXA8BskdgkMv4FilcDwGyx0CQw/A6FKYPgZqbsEhp+hukpg+Bkb99XGvnq3ANPAI0YP/ymwI8G8CmAbcJXqP2ptFvwycKX7NSrMNHAZeAi8o3p//dXuxw+6n5tKNp0kSZIkSZIkSZIkSZIkSZIkSZIkSZIkSdIAfwCHj0fOYebyPAAAAABJRU5ErkJggg=="},453:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAOwAAADsAEnxA+tAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAnFJREFUeJzt3b1qFFEYh/HHjyhq4QUI3oOI9noNVjaKGjUXY5MmZbqICtrYCzYWXoCIhZBWBBsbxV0LGzFgZnbmvHPOeZ8fbJ0Z/s9+ZSdZkCRJkiRJkiRJkiRJUldOLH0AA5wH7gI3gYvAB+Ap8G7BY1KQq8AhsP7ntgJ2ga3lDk2lXQK+cHT8v28vMYJu7fL/8Y2gcx8ZFsAaeA2cXeYwVcoPhgfgI0GHxozvI0GHNgnACDqyaQBG0IkpARhBB6YGYASNmyMAI2jYXAEYQaPmDMAIGjR3AEbQmBIBGEFDSgVgBI1YUTYCPzuo3HHXAhhB555TPgAjqNgVxn8kbASduUf51wJGULn7wC9iIvDdQaWMQEYgIxBGIIxAGIEwAmEEwgiEEQgjEEYgjEAYgTACYQTCCIQRCCMQRiDgEXFXGx/Qxr/kTScygttB56SRop4O3kadkMaLiOB72NmMdHLpA6hAxPPzKuBnaAMPiHkKeBN1Qhou8kXgraBz0kCPiRt/P+icNFDUw/4aeAGcjjktDbGN46fl+Ik5fmKOn5jjJ7ZN3Fs9x6+M4yfm+Ik5fmKOn5jjJ/YQx0/L8RNz/MQcPzHHT8zxE3P8xCIv4HT8yjh+YjvEjf8Mx6/KdeAnjp/WKxw/tW84flpbOH5qZyg7vq/2K1cyAMdvQKkAHL8RJQJw/IbMHYDjN2bOABy/QXMF4PiNmiMAx2/Y1AAcv3FTAnD8DmwagON34hTj/67f3+135jPe81Pbw3t+apeBrzh+ateAQ44OvwKe4PiTtfBNFheAO8AN4BzwiT/fwvF+yYOSJEmSJEmSJEmSJEmSqvQbrEcvieO83scAAAAASUVORK5CYII="}},A={};function t(i){var s=A[i];if(void 0!==s)return s.exports;var o=A[i]={exports:{}};return e[i].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(A,i,s,o){if(!i){var n=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],o=e[c][2];for(var r=!0,a=0;a<i.length;a++)(!1&o||n>=o)&&Object.keys(t.O).every((function(e){return t.O[e](i[a])}))?i.splice(a--,1):(r=!1,o<n&&(n=o));if(r){e.splice(c--,1);var l=s();void 0!==l&&(A=l)}}return A}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,s,o]}}(),function(){t.n=function(e){var A=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(A,{a:A}),A}}(),function(){t.d=function(e,A){for(var i in A)t.o(A,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:A[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(A){return 0===e[A]};var A=function(A,i){var s,o,n=i[0],r=i[1],a=i[2],l=0;if(n.some((function(A){return 0!==e[A]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(a)var c=a(t)}for(A&&A(i);l<n.length;l++)o=n[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},i=self["webpackChunkpointfinder"]=self["webpackChunkpointfinder"]||[];i.forEach(A.bind(null,0)),i.push=A.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(841)}));i=t.O(i)})();
//# sourceMappingURL=app.69d830f1.js.map